(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{25:function(t,e,n){t.exports={btnDelete:"ContactItem_btnDelete__xBuRM"}},30:function(t,e,n){t.exports=n(58)},58:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),u=n(4),i=n(5),l=n(7),s=n(6),m=n(23),h=n(3),f=n(8),p=n.n(f);p.a.defaults.baseURL="http://localhost:4242";var d=function(){return p.a.get("/contacts")},b=function(t){return p.a.post("/contacts",t)},g=function(t){return p.a.delete("/contacts/".concat(t))},C="contacts/GET_CONTACT-START",y="contacts/GET_CONTACT_SUCCESS",v="contacts/GET_CONTACT_FAILURE",E="contacts/ADD_CONTACT_START",T="contacts/ADD_CONTACT_SUCCESS",O="contacts/ADD_CONTACT_FAILURE",N="contacts/DELETE_CONTACT_START",_="contacts/DELETE_CONTACT_SUCCESS",j="contacts/DELETE_CONTACT_FAILURE",S="contacts/FILTER_CONTACT",k=function(){return{type:C}},A=function(t){return{type:y,payload:{contactList:t}}},L=function(t){return{type:v,payload:{error:t}}},w=function(){return{type:E}},x=function(t){return{type:T,payload:{contact:t}}},D=function(t){return{type:O,payload:{error:t}}},R=function(){return{type:N}},U=function(t){return{type:_,payload:{id:t}}},F=function(t){return{type:j,payload:{error:t}}},I=function(t){return{type:S,payload:{name:t}}},P=function(){return function(t){t(k()),d().then((function(e){var n=e.data;return t(A(n))})).catch((function(e){return t(L(e))}))}},B=function(t,e){return function(n){n(w()),b({name:t,number:e}).then((function(t){var e=t.data;return n(x(e))})).catch((function(t){return n(D(t))}))}},J=function(t){return function(e){e(R()),g(t).then((function(){return e(U(t))})).catch((function(t){return e(F(t))}))}},M=n(9),G=n.n(M),W=function(t){Object(l.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={contactName:"",number:""},t.handleChange=function(e){var n=e.target,a=n.name,r=n.value;t.setState(Object(m.a)({},a,r))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.contactName,r=n.number,c=t.props.addContact;t.setState({contactName:"",number:""}),c(a,r)},t}return Object(i.a)(n,[{key:"render",value:function(){var t=this.state,e=t.contactName,n=t.number;return r.a.createElement("form",{onSubmit:this.handleSubmit,style:{marginLeft:"30px"}},r.a.createElement("h2",{className:G.a.title},"Phonebook"),r.a.createElement("input",{className:G.a.inputName,type:"text",name:"contactName",value:e,onChange:this.handleChange,placeholder:"Enter name...",required:!0}),r.a.createElement("input",{className:G.a.inputNumber,type:"tel",name:"number",value:n,onChange:this.handleChange,placeholder:"Number...",required:!0}),r.a.createElement("button",{type:"submit",className:G.a.btn},"Add contact"))}}]),n}(a.Component),q=Object(h.b)(null,(function(t){return{addContact:function(e,n){return t(B(e,n))}}}))(W),z=n(25),H=n.n(z),K=Object(h.b)(null,(function(t,e){var n=e.id;return{deleteContact:function(){return t(J(n))}}}))((function(t){var e=t.contact,n=e.id,a=e.name,c=e.number,o=t.deleteContact;return r.a.createElement("li",null,r.a.createElement("span",null,a,": "),r.a.createElement("span",null,c),r.a.createElement("button",{type:"button",className:H.a.btnDelete,onClick:function(){return o(n)}},"Delete"))})),Q=n(26),V=function(t){return t.contactRoot.filterReducer},X=Object(Q.a)([function(t){return t.contactRoot.contactReducer},V],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),Y=Object(h.b)((function(t){return{filter:V(t)}}),(function(t){return{onChange:function(e){return t(I(e.target.value))}}}))((function(t){var e=t.filter,n=t.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{style:{marginLeft:"30px",letterSpacing:"1px"}},"Find contacts by name:"),r.a.createElement("input",{style:{marginLeft:"30px",height:"25px",marginBottom:"10px"},type:"text",name:"filter",value:e,onChange:n}))})),Z=function(t){Object(l.a)(n,t);var e=Object(s.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.getAllContacts)()}},{key:"render",value:function(){var t=this.props,e=t.contactList,n=t.filter,a=t.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{marginLeft:"30px",color:"blue"}},"Contacts"),r.a.createElement(Y,{filter:n,onChange:a}),r.a.createElement("ul",null,e.map((function(t){return r.a.createElement(K,{id:t.id,contact:t,key:t.id})}))))}}]),n}(a.Component),$=Object(h.b)((function(t){return console.log("state",t),{contactList:X(t)}}),(function(t){return{getAllContacts:function(){return t(P())}}}))(Z),tt=Object(a.createContext)(),et={light:{fontColor:"black",bodybg:"white"},dark:{fontColor:"white",bodybg:"black"}},nt=function(t){Object(l.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).toggleTheme=function(){t.setState((function(t){return"light"===t.theme?{theme:"dark",themeConfig:et.dark}:{theme:"light",themeConfig:et.light}}))},t.state={theme:"light",themeConfig:et.light,toggleTheme:t.toggleTheme},t}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(tt.Provider,{value:this.state},this.props.children)}}]),n}(a.Component);nt.Consumer=tt.Consumer;var at=nt,rt=function(t){return function(e){return r.a.createElement(at.Consumer,null,(function(n){return r.a.createElement(t,Object.assign({},e,{theme:n.theme,themeConfig:n.themeConfig,toggleTheme:n.toggleTheme}))}))}}(function(t){Object(l.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={filter:""},t.filterByName=function(){},t.deleteContact=function(t){},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=localStorage.getItem("contacts");t&&this.setState({contacts:JSON.parse(t)})}},{key:"componentDidUpdate",value:function(t,e){e.contacts!==this.state.contacts&&localStorage.setItem("contacts",JSON.stringify(this.state.contacts))}},{key:"render",value:function(){var t=this.props.themeConfig,e=t.fontColor,n=t.bodybg,a=this.state.filter;return r.a.createElement("div",{style:{color:e,background:n}},r.a.createElement("button",{type:"submit",style:{marginLeft:"30px",marginTop:"20px",borderColor:"white",height:"35px",width:"150px",backgroundColor:"black",color:"white",fontWeight:"bold",letterSpacing:"1px"},onClick:this.props.toggleTheme},"Change theme"),r.a.createElement(q,{name:this.state.name,number:this.state.number}),r.a.createElement($,{filter:a,deleteContact:this.deleteContact}))}}]),n}(a.Component)),ct=n(2),ot=n(27),ut=n(28),it=n(29),lt=Object(ct.combineReducers)({contactReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y:return e.payload.contactList;case T:return[].concat(Object(it.a)(t),[e.payload.contact]);case _:return t.filter((function(t){return t.id!==e.payload.id}));default:return t}},filterReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:return e.payload.name;default:return t}},loading:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,n=e.type;switch(n){case C:case E:case N:return!0;case y:case v:return!0;case T:case O:return!0;case _:case j:return!1;default:return t}},contactError:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.payload;switch(n){case v:case O:case j:return a.error;case C:case E:case N:return null;default:return t}}}),st=Object(ct.combineReducers)({contactRoot:lt}),mt=[ot.a],ht=Object(ct.createStore)(st,Object(ut.composeWithDevTools)(ct.applyMiddleware.apply(void 0,mt)));o.a.render(r.a.createElement(h.a,{store:ht},r.a.createElement(at,null,r.a.createElement(rt,null))),document.getElementById("root"))},9:function(t,e,n){t.exports={btn:"Phonebook_btn__1UFp6",inputName:"Phonebook_inputName__3ASW-",inputNumber:"Phonebook_inputNumber__1T-La"}}},[[30,1,2]]]);
//# sourceMappingURL=main.10e4b5c9.chunk.js.map